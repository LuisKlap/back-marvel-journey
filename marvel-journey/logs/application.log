2025-01-14 21:54:04 - Starting MarvelJourneyApplicationTests using Java 23.0.1 with PID 14136 (started by luis_ in d:\develop\Projetos\Marvel\Java\marvel-journey)
2025-01-14 21:54:04 - No active profile set, falling back to 1 default profile: "default"
2025-01-14 21:54:17 - Started MarvelJourneyApplicationTests in 14.164 seconds (process running for 22.185)
2025-01-14 21:54:19 - Starting UserRepositoryTest using Java 23.0.1 with PID 14136 (started by luis_ in d:\develop\Projetos\Marvel\Java\marvel-journey)
2025-01-14 21:54:19 - The following 1 profile is active: "test"
2025-01-14 21:54:19 - Started UserRepositoryTest in 0.471 seconds (process running for 25.091)
2025-01-14 21:54:22 - Token inválido
2025-01-14 21:54:22 - Cabeçalho de autorização ausente ou malformado
2025-01-14 21:54:24 - Token válido para o usuário: user
2025-01-14 21:54:25 - Issuer or Audience does not match
2025-01-14 21:54:25 - Issuer or Audience does not match
2025-01-14 21:54:26 - Código MFA inválido.
2025-01-14 21:54:26 - Chave secreta MFA gerada com sucesso.
2025-01-14 21:54:26 - Código MFA validado com sucesso.
2025-01-14 21:57:26 - Starting MarvelJourneyApplicationTests using Java 23.0.1 with PID 6444 (started by luis_ in d:\develop\Projetos\Marvel\Java\marvel-journey)
2025-01-14 21:57:26 - No active profile set, falling back to 1 default profile: "default"
2025-01-14 21:57:42 - Started MarvelJourneyApplicationTests in 17.015 seconds (process running for 25.872)
2025-01-14 21:57:44 - Starting UserRepositoryTest using Java 23.0.1 with PID 6444 (started by luis_ in d:\develop\Projetos\Marvel\Java\marvel-journey)
2025-01-14 21:57:44 - The following 1 profile is active: "test"
2025-01-14 21:57:44 - Started UserRepositoryTest in 0.619 seconds (process running for 28.637)
2025-01-14 21:57:47 - Token inválido
2025-01-14 21:57:47 - Cabeçalho de autorização ausente ou malformado
2025-01-14 21:57:47 - Token válido para o usuário: user
2025-01-14 21:57:48 - Issuer or Audience does not match
2025-01-14 21:57:48 - Issuer or Audience does not match
2025-01-14 21:57:48 - Código MFA inválido.
2025-01-14 21:57:48 - Chave secreta MFA gerada com sucesso.
2025-01-14 21:57:48 - Código MFA validado com sucesso.
2025-01-14 22:05:55 - Starting MarvelJourneyApplicationTests using Java 23.0.1 with PID 13940 (started by luis_ in d:\develop\Projetos\Marvel\Java\marvel-journey)
2025-01-14 22:05:55 - No active profile set, falling back to 1 default profile: "default"
2025-01-14 22:06:05 - Started MarvelJourneyApplicationTests in 10.874 seconds (process running for 14.798)
2025-01-14 22:06:07 - Starting UserRepositoryTest using Java 23.0.1 with PID 13940 (started by luis_ in d:\develop\Projetos\Marvel\Java\marvel-journey)
2025-01-14 22:06:07 - The following 1 profile is active: "test"
2025-01-14 22:06:07 - Started UserRepositoryTest in 0.482 seconds (process running for 17.157)
2025-01-14 22:06:09 - Token inválido
2025-01-14 22:06:09 - Cabeçalho de autorização ausente ou malformado
2025-01-14 22:06:10 - Token válido para o usuário: user
2025-01-14 22:06:10 - Issuer or Audience does not match
2025-01-14 22:06:10 - Issuer or Audience does not match
2025-01-14 22:06:11 - Código MFA inválido.
2025-01-14 22:06:11 - Chave secreta MFA gerada com sucesso.
2025-01-14 22:06:11 - Código MFA validado com sucesso.
2025-01-14 22:08:21 - Starting MarvelJourneyApplicationTests using Java 23.0.1 with PID 13756 (started by luis_ in d:\develop\Projetos\Marvel\Java\marvel-journey)
2025-01-14 22:08:21 - No active profile set, falling back to 1 default profile: "default"
2025-01-14 22:08:29 - Started MarvelJourneyApplicationTests in 9.779 seconds (process running for 14.563)
2025-01-14 22:08:31 - Starting UserRepositoryTest using Java 23.0.1 with PID 13756 (started by luis_ in d:\develop\Projetos\Marvel\Java\marvel-journey)
2025-01-14 22:08:31 - The following 1 profile is active: "test"
2025-01-14 22:08:32 - Started UserRepositoryTest in 0.426 seconds (process running for 16.769)
2025-01-14 22:08:33 - Token inválido
2025-01-14 22:08:33 - Cabeçalho de autorização ausente ou malformado
2025-01-14 22:08:34 - Token válido para o usuário: user
2025-01-14 22:08:35 - Issuer or Audience does not match
2025-01-14 22:08:35 - Issuer or Audience does not match
2025-01-14 22:08:35 - Código MFA inválido.
2025-01-14 22:08:35 - Chave secreta MFA gerada com sucesso.
2025-01-14 22:08:35 - Código MFA validado com sucesso.
2025-01-14 22:10:34 - Starting MarvelJourneyApplicationTests using Java 23.0.1 with PID 5128 (started by luis_ in d:\develop\Projetos\Marvel\Java\marvel-journey)
2025-01-14 22:10:34 - No active profile set, falling back to 1 default profile: "default"
2025-01-14 22:10:42 - Started MarvelJourneyApplicationTests in 9.857 seconds (process running for 13.939)
2025-01-14 22:10:45 - Starting UserRepositoryTest using Java 23.0.1 with PID 5128 (started by luis_ in d:\develop\Projetos\Marvel\Java\marvel-journey)
2025-01-14 22:10:45 - The following 1 profile is active: "test"
2025-01-14 22:10:45 - Started UserRepositoryTest in 0.525 seconds (process running for 16.617)
2025-01-14 22:10:47 - Token inválido
2025-01-14 22:10:47 - Cabeçalho de autorização ausente ou malformado
2025-01-14 22:10:48 - Token válido para o usuário: user
2025-01-14 22:10:49 - Issuer or Audience does not match
2025-01-14 22:10:49 - Issuer or Audience does not match
2025-01-14 22:10:49 - Código MFA inválido.
2025-01-14 22:10:49 - Chave secreta MFA gerada com sucesso.
2025-01-14 22:10:49 - Código MFA validado com sucesso.
2025-01-14 22:13:46 - Starting MarvelJourneyApplicationTests using Java 23.0.1 with PID 10824 (started by luis_ in d:\develop\Projetos\Marvel\Java\marvel-journey)
2025-01-14 22:13:46 - No active profile set, falling back to 1 default profile: "default"
2025-01-14 22:13:55 - Started MarvelJourneyApplicationTests in 10.161 seconds (process running for 15.673)
2025-01-14 22:13:58 - Starting UserRepositoryTest using Java 23.0.1 with PID 10824 (started by luis_ in d:\develop\Projetos\Marvel\Java\marvel-journey)
2025-01-14 22:13:58 - The following 1 profile is active: "test"
2025-01-14 22:13:58 - Started UserRepositoryTest in 0.444 seconds (process running for 18.825)
2025-01-14 22:14:00 - Token inválido
2025-01-14 22:14:00 - Cabeçalho de autorização ausente ou malformado
2025-01-14 22:14:01 - Token válido para o usuário: user
2025-01-14 22:14:03 - Issuer or Audience does not match
2025-01-14 22:14:03 - Issuer or Audience does not match
2025-01-14 22:14:03 - Código MFA inválido.
2025-01-14 22:14:03 - Chave secreta MFA gerada com sucesso.
2025-01-14 22:14:03 - Código MFA validado com sucesso.
2025-01-14 22:22:37 - Starting MarvelJourneyApplicationTests using Java 23.0.1 with PID 3748 (started by luis_ in d:\develop\Projetos\Marvel\Java\marvel-journey)
2025-01-14 22:22:37 - No active profile set, falling back to 1 default profile: "default"
2025-01-14 22:22:46 - Started MarvelJourneyApplicationTests in 10.418 seconds (process running for 14.296)
2025-01-14 22:22:48 - Starting UserRepositoryTest using Java 23.0.1 with PID 3748 (started by luis_ in d:\develop\Projetos\Marvel\Java\marvel-journey)
2025-01-14 22:22:48 - The following 1 profile is active: "test"
2025-01-14 22:22:48 - Started UserRepositoryTest in 0.455 seconds (process running for 16.812)
2025-01-14 22:22:50 - Token inválido
2025-01-14 22:22:50 - Cabeçalho de autorização ausente ou malformado
2025-01-14 22:22:50 - Token válido para o usuário: user
2025-01-14 22:22:51 - Starting SecurityConfigTest using Java 23.0.1 with PID 3748 (started by luis_ in d:\develop\Projetos\Marvel\Java\marvel-journey)
2025-01-14 22:22:51 - No active profile set, falling back to 1 default profile: "default"
2025-01-14 22:22:54 - Started SecurityConfigTest in 2.714 seconds (process running for 22.302)
2025-01-14 22:22:56 - Issuer or Audience does not match
2025-01-14 22:22:56 - Issuer or Audience does not match
2025-01-14 22:22:56 - Código MFA inválido.
2025-01-14 22:22:56 - Chave secreta MFA gerada com sucesso.
2025-01-14 22:22:56 - Código MFA validado com sucesso.
2025-01-14 22:27:01 - Starting MarvelJourneyApplicationTests using Java 23.0.1 with PID 6196 (started by luis_ in d:\develop\Projetos\Marvel\Java\marvel-journey)
2025-01-14 22:27:01 - No active profile set, falling back to 1 default profile: "default"
2025-01-14 22:27:11 - Started MarvelJourneyApplicationTests in 11.273 seconds (process running for 16.185)
2025-01-14 22:27:13 - Starting UserRepositoryTest using Java 23.0.1 with PID 6196 (started by luis_ in d:\develop\Projetos\Marvel\Java\marvel-journey)
2025-01-14 22:27:13 - The following 1 profile is active: "test"
2025-01-14 22:27:14 - Started UserRepositoryTest in 0.649 seconds (process running for 18.796)
2025-01-14 22:27:15 - Token inválido
2025-01-14 22:27:15 - Cabeçalho de autorização ausente ou malformado
2025-01-14 22:27:15 - Token válido para o usuário: user
2025-01-14 22:27:16 - Starting SecurityConfigTest using Java 23.0.1 with PID 6196 (started by luis_ in d:\develop\Projetos\Marvel\Java\marvel-journey)
2025-01-14 22:27:16 - No active profile set, falling back to 1 default profile: "default"
2025-01-14 22:27:19 - Started SecurityConfigTest in 2.583 seconds (process running for 23.798)
2025-01-14 22:27:20 - Salvando novo usuário: test@example.com
2025-01-14 22:27:21 - Atualizando usuário: test@example.com
2025-01-14 22:27:21 - Atualizando usuário: test@example.com
2025-01-14 22:27:21 - MFA habilitado para o usuário: test@example.com
2025-01-14 22:27:21 - Issuer or Audience does not match
2025-01-14 22:27:21 - Issuer or Audience does not match
2025-01-14 22:27:21 - Código MFA inválido.
2025-01-14 22:27:21 - Chave secreta MFA gerada com sucesso.
2025-01-14 22:27:21 - Código MFA validado com sucesso.
2025-01-14 22:33:36 - Tentativa de verificação MFA falhou para o usuário: test@example.com
2025-01-14 22:33:36 - MFA verificado com sucesso para o usuário: test@example.com
2025-01-14 22:33:36 - Novo usuário registrado: test@example.com
2025-01-14 22:33:36 - Login bem-sucedido para o usuário: test@example.com
2025-01-14 22:33:36 - MFA habilitado para o usuário: test@example.com
2025-01-14 22:33:36 - Tentativa de registro com senha fraca: test@example.com
2025-01-14 22:33:36 - Tentativa de login com senha inválida para o email: test@example.com
2025-01-14 22:33:36 - Tentativa de registro com email já existente: test@example.com
2025-01-14 22:33:39 - Starting MarvelJourneyApplicationTests using Java 23.0.1 with PID 3160 (started by luis_ in d:\develop\Projetos\Marvel\Java\marvel-journey)
2025-01-14 22:33:39 - No active profile set, falling back to 1 default profile: "default"
2025-01-14 22:33:49 - Started MarvelJourneyApplicationTests in 11.515 seconds (process running for 20.53)
2025-01-14 22:33:50 - Starting UserRepositoryTest using Java 23.0.1 with PID 3160 (started by luis_ in d:\develop\Projetos\Marvel\Java\marvel-journey)
2025-01-14 22:33:50 - The following 1 profile is active: "test"
2025-01-14 22:33:50 - Started UserRepositoryTest in 0.434 seconds (process running for 21.171)
2025-01-14 22:33:51 - Token inválido
2025-01-14 22:33:51 - Cabeçalho de autorização ausente ou malformado
2025-01-14 22:33:51 - Token válido para o usuário: user
2025-01-14 22:33:52 - Starting SecurityConfigTest using Java 23.0.1 with PID 3160 (started by luis_ in d:\develop\Projetos\Marvel\Java\marvel-journey)
2025-01-14 22:33:52 - No active profile set, falling back to 1 default profile: "default"
2025-01-14 22:33:54 - Started SecurityConfigTest in 1.913 seconds (process running for 24.909)
2025-01-14 22:33:55 - Salvando novo usuário: test@example.com
2025-01-14 22:33:55 - Atualizando usuário: test@example.com
2025-01-14 22:33:55 - Atualizando usuário: test@example.com
2025-01-14 22:33:55 - MFA habilitado para o usuário: test@example.com
2025-01-14 22:33:55 - Issuer or Audience does not match
2025-01-14 22:33:55 - Issuer or Audience does not match
2025-01-14 22:33:56 - Código MFA inválido.
2025-01-14 22:33:56 - Chave secreta MFA gerada com sucesso.
2025-01-14 22:33:56 - Código MFA validado com sucesso.
2025-01-14 22:38:55 - Starting MarvelJourneyApplication using Java 23.0.1 with PID 2436 (d:\develop\Projetos\Marvel\Java\marvel-journey\target\classes started by luis_ in d:\develop\Projetos\Marvel\Java\marvel-journey)
2025-01-14 22:38:55 - No active profile set, falling back to 1 default profile: "default"
2025-01-14 22:39:01 - Started MarvelJourneyApplication in 6.888 seconds (process running for 7.967)
2025-01-14 22:39:01 - Cabeçalho de autorização ausente ou malformado
2025-01-14 22:39:01 - Cabeçalho de autorização ausente ou malformado
2025-01-14 22:39:02 - Cabeçalho de autorização ausente ou malformado
2025-01-14 22:39:02 - Cabeçalho de autorização ausente ou malformado
2025-01-14 22:39:02 - Cabeçalho de autorização ausente ou malformado
2025-01-14 22:39:02 - Cabeçalho de autorização ausente ou malformado
2025-01-14 22:39:02 - Cabeçalho de autorização ausente ou malformado
2025-01-14 22:39:02 - Cabeçalho de autorização ausente ou malformado
2025-01-14 22:39:02 - Cabeçalho de autorização ausente ou malformado
2025-01-14 22:41:52 - Cabeçalho de autorização ausente ou malformado
2025-01-14 22:42:06 - Cabeçalho de autorização ausente ou malformado
2025-01-14 22:43:18 - Cabeçalho de autorização ausente ou malformado
2025-01-14 22:43:18 - Tentativa de registro com senha fraca: luis_klap@outlook.com
2025-01-14 22:43:30 - Cabeçalho de autorização ausente ou malformado
2025-01-14 22:43:30 - Salvando novo usuário: luis_klap@outlook.com
2025-01-14 22:43:31 - Erro ao registrar usuário
org.springframework.dao.DataIntegrityViolationException: Write operation error on server localhost:27017. Write error: WriteError{code=121, message='Document failed validation', details={"failingDocumentId": {"$oid": "678712c3808f715acdd50318"}, "details": {"operatorName": "$jsonSchema", "schemaRulesNotSatisfied": [{"operatorName": "required", "specifiedAs": {"required": ["email", "passwordHash", "termsAcceptedAt", "status"]}, "missingProperties": ["termsAcceptedAt"]}]}}}.
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.doTranslateException(MongoExceptionTranslator.java:119)
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:74)
	at org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:3009)
	at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:605)
	at org.springframework.data.mongodb.core.MongoTemplate.insertDocument(MongoTemplate.java:1536)
	at org.springframework.data.mongodb.core.MongoTemplate.doInsert(MongoTemplate.java:1337)
	at org.springframework.data.mongodb.core.MongoTemplate.insert(MongoTemplate.java:1263)
	at org.springframework.data.mongodb.repository.support.SimpleMongoRepository.save(SimpleMongoRepository.java:96)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:752)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.mongodb.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:158)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy3/jdk.proxy3.$Proxy90.save(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy3/jdk.proxy3.$Proxy90.save(Unknown Source)
	at com.marvel.marveljourney.service.UserService.saveUser(UserService.java:39)
	at com.marvel.marveljourney.controller.AuthController.registerUser(AuthController.java:73)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.marvel.marveljourney.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: com.mongodb.MongoWriteException: Write operation error on server localhost:27017. Write error: WriteError{code=121, message='Document failed validation', details={"failingDocumentId": {"$oid": "678712c3808f715acdd50318"}, "details": {"operatorName": "$jsonSchema", "schemaRulesNotSatisfied": [{"operatorName": "required", "specifiedAs": {"required": ["email", "passwordHash", "termsAcceptedAt", "status"]}, "missingProperties": ["termsAcceptedAt"]}]}}}.
	at com.mongodb.client.internal.MongoCollectionImpl.executeSingleWriteRequest(MongoCollectionImpl.java:1123)
	at com.mongodb.client.internal.MongoCollectionImpl.executeInsertOne(MongoCollectionImpl.java:498)
	at com.mongodb.client.internal.MongoCollectionImpl.insertOne(MongoCollectionImpl.java:481)
	at com.mongodb.client.internal.MongoCollectionImpl.insertOne(MongoCollectionImpl.java:475)
	at org.springframework.data.mongodb.core.MongoTemplate.lambda$insertDocument$17(MongoTemplate.java:1542)
	at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:603)
	... 132 common frames omitted
2025-01-14 22:45:39 - Starting MarvelJourneyApplication using Java 23.0.1 with PID 2436 (d:\develop\Projetos\Marvel\Java\marvel-journey\target\classes started by luis_ in d:\develop\Projetos\Marvel\Java\marvel-journey)
2025-01-14 22:45:39 - No active profile set, falling back to 1 default profile: "default"
2025-01-14 22:45:41 - Started MarvelJourneyApplication in 1.681 seconds (process running for 407.501)
2025-01-14 22:46:16 - Tentativa de verificação MFA falhou para o usuário: test@example.com
2025-01-14 22:46:16 - MFA verificado com sucesso para o usuário: test@example.com
2025-01-14 22:46:16 - Novo usuário registrado: test@example.com
2025-01-14 22:46:16 - Login bem-sucedido para o usuário: test@example.com
2025-01-14 22:46:16 - MFA habilitado para o usuário: test@example.com
2025-01-14 22:46:16 - Tentativa de registro com senha fraca: test@example.com
2025-01-14 22:46:16 - Tentativa de login com senha inválida para o email: test@example.com
2025-01-14 22:46:16 - Tentativa de registro com email já existente: test@example.com
2025-01-14 22:46:19 - Starting MarvelJourneyApplicationTests using Java 23.0.1 with PID 6576 (started by luis_ in d:\develop\Projetos\Marvel\Java\marvel-journey)
2025-01-14 22:46:19 - No active profile set, falling back to 1 default profile: "default"
2025-01-14 22:46:27 - Started MarvelJourneyApplicationTests in 9.845 seconds (process running for 18.036)
2025-01-14 22:46:28 - Starting UserRepositoryTest using Java 23.0.1 with PID 6576 (started by luis_ in d:\develop\Projetos\Marvel\Java\marvel-journey)
2025-01-14 22:46:28 - The following 1 profile is active: "test"
2025-01-14 22:46:28 - Started UserRepositoryTest in 0.431 seconds (process running for 18.72)
2025-01-14 22:46:29 - Token inválido
2025-01-14 22:46:29 - Cabeçalho de autorização ausente ou malformado
2025-01-14 22:46:29 - Token válido para o usuário: user
2025-01-14 22:46:30 - Starting SecurityConfigTest using Java 23.0.1 with PID 6576 (started by luis_ in d:\develop\Projetos\Marvel\Java\marvel-journey)
2025-01-14 22:46:30 - No active profile set, falling back to 1 default profile: "default"
2025-01-14 22:46:32 - Started SecurityConfigTest in 2.289 seconds (process running for 22.622)
2025-01-14 22:46:34 - Salvando novo usuário: test@example.com
2025-01-14 22:46:34 - Atualizando usuário: test@example.com
2025-01-14 22:46:34 - Atualizando usuário: test@example.com
2025-01-14 22:46:34 - MFA habilitado para o usuário: test@example.com
2025-01-14 22:46:34 - Issuer or Audience does not match
2025-01-14 22:46:34 - Issuer or Audience does not match
2025-01-14 22:46:34 - Código MFA inválido.
2025-01-14 22:46:34 - Chave secreta MFA gerada com sucesso.
2025-01-14 22:46:34 - Código MFA validado com sucesso.
2025-01-14 22:47:00 - Starting MarvelJourneyApplication using Java 23.0.1 with PID 12704 (d:\develop\Projetos\Marvel\Java\marvel-journey\target\classes started by luis_ in d:\develop\Projetos\Marvel\Java\marvel-journey)
2025-01-14 22:47:00 - No active profile set, falling back to 1 default profile: "default"
2025-01-14 22:47:05 - Started MarvelJourneyApplication in 5.609 seconds (process running for 6.556)
2025-01-14 22:47:26 - Cabeçalho de autorização ausente ou malformado
2025-01-14 22:47:27 - Salvando novo usuário: luis_klap@outlook.com
2025-01-14 22:47:27 - Novo usuário registrado: luis_klap@outlook.com
2025-01-14 22:47:27 - Erro ao registrar usuário
io.jsonwebtoken.security.WeakKeyException: The signing key's size is 360 bits which is not secure enough for the HS512 algorithm.  The JWT JWA Specification (RFC 7518, Section 3.2) states that keys used with HS512 MUST have a size >= 512 bits (the key size must be greater than or equal to the hash output size).  Consider using the io.jsonwebtoken.security.Keys class's 'secretKeyFor(SignatureAlgorithm.HS512)' method to create a key guaranteed to be secure enough for HS512.  See https://tools.ietf.org/html/rfc7518#section-3.2 for more information.
	at io.jsonwebtoken.SignatureAlgorithm.assertValid(SignatureAlgorithm.java:387)
	at io.jsonwebtoken.SignatureAlgorithm.assertValidSigningKey(SignatureAlgorithm.java:315)
	at io.jsonwebtoken.impl.DefaultJwtBuilder.signWith(DefaultJwtBuilder.java:122)
	at com.marvel.marveljourney.util.JwtUtil.generateToken(JwtUtil.java:33)
	at com.marvel.marveljourney.controller.AuthController.registerUser(AuthController.java:78)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.marvel.marveljourney.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-01-14 22:49:49 - Starting MarvelJourneyApplication using Java 23.0.1 with PID 12704 (d:\develop\Projetos\Marvel\Java\marvel-journey\target\classes started by luis_ in d:\develop\Projetos\Marvel\Java\marvel-journey)
2025-01-14 22:49:49 - No active profile set, falling back to 1 default profile: "default"
2025-01-14 22:49:51 - Started MarvelJourneyApplication in 1.704 seconds (process running for 172.621)
2025-01-14 22:50:22 - Tentativa de verificação MFA falhou para o usuário: test@example.com
2025-01-14 22:50:22 - MFA verificado com sucesso para o usuário: test@example.com
2025-01-14 22:50:22 - Novo usuário registrado: test@example.com
2025-01-14 22:50:22 - Login bem-sucedido para o usuário: test@example.com
2025-01-14 22:50:22 - MFA habilitado para o usuário: test@example.com
2025-01-14 22:50:22 - Tentativa de registro com senha fraca: test@example.com
2025-01-14 22:50:22 - Tentativa de login com senha inválida para o email: test@example.com
2025-01-14 22:50:22 - Tentativa de registro com email já existente: test@example.com
2025-01-14 22:50:25 - Starting MarvelJourneyApplicationTests using Java 23.0.1 with PID 11824 (started by luis_ in d:\develop\Projetos\Marvel\Java\marvel-journey)
2025-01-14 22:50:25 - No active profile set, falling back to 1 default profile: "default"
2025-01-14 22:50:34 - Started MarvelJourneyApplicationTests in 9.857 seconds (process running for 17.505)
2025-01-14 22:50:34 - Starting UserRepositoryTest using Java 23.0.1 with PID 11824 (started by luis_ in d:\develop\Projetos\Marvel\Java\marvel-journey)
2025-01-14 22:50:34 - The following 1 profile is active: "test"
2025-01-14 22:50:34 - Started UserRepositoryTest in 0.428 seconds (process running for 18.209)
2025-01-14 22:50:35 - Token inválido
2025-01-14 22:50:35 - Cabeçalho de autorização ausente ou malformado
2025-01-14 22:50:36 - Token válido para o usuário: user
2025-01-14 22:50:36 - Starting SecurityConfigTest using Java 23.0.1 with PID 11824 (started by luis_ in d:\develop\Projetos\Marvel\Java\marvel-journey)
2025-01-14 22:50:36 - No active profile set, falling back to 1 default profile: "default"
2025-01-14 22:50:38 - Started SecurityConfigTest in 2.148 seconds (process running for 22.261)
2025-01-14 22:50:40 - Salvando novo usuário: test@example.com
2025-01-14 22:50:40 - Atualizando usuário: test@example.com
2025-01-14 22:50:40 - Atualizando usuário: test@example.com
2025-01-14 22:50:40 - MFA habilitado para o usuário: test@example.com
2025-01-14 22:50:40 - Issuer or Audience does not match
2025-01-14 22:50:40 - Issuer or Audience does not match
2025-01-14 22:50:40 - Código MFA inválido.
2025-01-14 22:50:40 - Chave secreta MFA gerada com sucesso.
2025-01-14 22:50:40 - Código MFA validado com sucesso.
2025-01-14 22:59:27 - Tentativa de verificação MFA falhou para o usuário: test@example.com
2025-01-14 22:59:27 - MFA verificado com sucesso para o usuário: test@example.com
2025-01-14 22:59:27 - Novo usuário registrado: test@example.com
2025-01-14 22:59:27 - Login bem-sucedido para o usuário: test@example.com
2025-01-14 22:59:27 - MFA habilitado para o usuário: test@example.com
2025-01-14 22:59:27 - Tentativa de registro com senha fraca: test@example.com
2025-01-14 22:59:27 - Tentativa de login com senha inválida para o email: test@example.com
2025-01-14 22:59:27 - Tentativa de registro com email já existente: test@example.com
2025-01-14 22:59:29 - Starting MarvelJourneyApplicationTests using Java 23.0.1 with PID 14280 (started by luis_ in d:\develop\Projetos\Marvel\Java\marvel-journey)
2025-01-14 22:59:29 - No active profile set, falling back to 1 default profile: "default"
2025-01-14 22:59:39 - Started MarvelJourneyApplicationTests in 10.219 seconds (process running for 18.76)
2025-01-14 22:59:39 - Starting UserRepositoryTest using Java 23.0.1 with PID 14280 (started by luis_ in d:\develop\Projetos\Marvel\Java\marvel-journey)
2025-01-14 22:59:39 - The following 1 profile is active: "test"
2025-01-14 22:59:39 - Started UserRepositoryTest in 0.436 seconds (process running for 19.461)
2025-01-14 22:59:40 - Token inválido
2025-01-14 22:59:40 - Cabeçalho de autorização ausente ou malformado
2025-01-14 22:59:41 - Token válido para o usuário: user
2025-01-14 22:59:41 - Starting SecurityConfigTest using Java 23.0.1 with PID 14280 (started by luis_ in d:\develop\Projetos\Marvel\Java\marvel-journey)
2025-01-14 22:59:41 - No active profile set, falling back to 1 default profile: "default"
2025-01-14 22:59:44 - Started SecurityConfigTest in 2.336 seconds (process running for 23.604)
2025-01-14 22:59:45 - Salvando novo usuário: test@example.com
2025-01-14 22:59:45 - Atualizando usuário: test@example.com
2025-01-14 22:59:45 - Atualizando usuário: test@example.com
2025-01-14 22:59:45 - MFA habilitado para o usuário: test@example.com
2025-01-14 22:59:45 - Issuer or Audience does not match
2025-01-14 22:59:45 - Issuer or Audience does not match
2025-01-14 22:59:46 - Código MFA inválido.
2025-01-14 22:59:46 - Chave secreta MFA gerada com sucesso.
2025-01-14 22:59:46 - Código MFA validado com sucesso.
2025-01-14 23:02:29 - Tentativa de verificação MFA falhou para o usuário: test@example.com
2025-01-14 23:02:29 - MFA verificado com sucesso para o usuário: test@example.com
2025-01-14 23:02:29 - Novo usuário registrado: test@example.com
2025-01-14 23:02:29 - Login bem-sucedido para o usuário: test@example.com
2025-01-14 23:02:29 - MFA habilitado para o usuário: test@example.com
2025-01-14 23:02:30 - Tentativa de registro com senha fraca: test@example.com
2025-01-14 23:02:30 - Tentativa de login com senha inválida para o email: test@example.com
2025-01-14 23:02:30 - Tentativa de registro com email já existente: test@example.com
2025-01-14 23:02:33 - Starting MarvelJourneyApplicationTests using Java 23.0.1 with PID 11848 (started by luis_ in d:\develop\Projetos\Marvel\Java\marvel-journey)
2025-01-14 23:02:33 - No active profile set, falling back to 1 default profile: "default"
2025-01-14 23:02:42 - Started MarvelJourneyApplicationTests in 10.741 seconds (process running for 19.656)
2025-01-14 23:02:42 - Starting UserRepositoryTest using Java 23.0.1 with PID 11848 (started by luis_ in d:\develop\Projetos\Marvel\Java\marvel-journey)
2025-01-14 23:02:42 - The following 1 profile is active: "test"
2025-01-14 23:02:43 - Started UserRepositoryTest in 0.443 seconds (process running for 20.35)
2025-01-14 23:02:44 - Token inválido
2025-01-14 23:02:44 - Cabeçalho de autorização ausente ou malformado
2025-01-14 23:02:44 - Token válido para o usuário: user
2025-01-14 23:02:45 - Starting SecurityConfigTest using Java 23.0.1 with PID 11848 (started by luis_ in d:\develop\Projetos\Marvel\Java\marvel-journey)
2025-01-14 23:02:45 - No active profile set, falling back to 1 default profile: "default"
2025-01-14 23:02:47 - Started SecurityConfigTest in 2.072 seconds (process running for 24.296)
2025-01-14 23:02:48 - Salvando novo usuário: test@example.com
2025-01-14 23:02:48 - Atualizando usuário: test@example.com
2025-01-14 23:02:48 - Atualizando usuário: test@example.com
2025-01-14 23:02:48 - MFA habilitado para o usuário: test@example.com
2025-01-14 23:02:48 - Issuer or Audience does not match
2025-01-14 23:02:48 - Issuer or Audience does not match
2025-01-14 23:02:48 - Código MFA inválido.
2025-01-14 23:02:48 - Chave secreta MFA gerada com sucesso.
2025-01-14 23:02:48 - Código MFA validado com sucesso.
2025-01-14 23:15:00 - Tentativa de verificação MFA falhou para o usuário: test@example.com
2025-01-14 23:15:00 - MFA verificado com sucesso para o usuário: test@example.com
2025-01-14 23:15:00 - Novo usuário registrado: test@example.com
2025-01-14 23:15:00 - Login bem-sucedido para o usuário: test@example.com
2025-01-14 23:15:00 - MFA habilitado para o usuário: test@example.com
2025-01-14 23:15:00 - Tentativa de registro com senha fraca: test@example.com
2025-01-14 23:15:00 - Tentativa de login com senha inválida para o email: test@example.com
2025-01-14 23:15:00 - Tentativa de registro com email já existente: test@example.com
2025-01-14 23:15:03 - Starting MarvelJourneyApplicationTests using Java 23.0.1 with PID 13004 (started by luis_ in d:\develop\Projetos\Marvel\Java\marvel-journey)
2025-01-14 23:15:03 - No active profile set, falling back to 1 default profile: "default"
2025-01-14 23:15:12 - Started MarvelJourneyApplicationTests in 10.137 seconds (process running for 17.721)
2025-01-14 23:15:12 - Starting UserRepositoryTest using Java 23.0.1 with PID 13004 (started by luis_ in d:\develop\Projetos\Marvel\Java\marvel-journey)
2025-01-14 23:15:12 - The following 1 profile is active: "test"
2025-01-14 23:15:13 - Started UserRepositoryTest in 0.579 seconds (process running for 18.591)
2025-01-14 23:15:14 - Token inválido
2025-01-14 23:15:14 - Cabeçalho de autorização ausente ou malformado
2025-01-14 23:15:15 - Token válido para o usuário: user
2025-01-14 23:15:15 - Starting SecurityConfigTest using Java 23.0.1 with PID 13004 (started by luis_ in d:\develop\Projetos\Marvel\Java\marvel-journey)
2025-01-14 23:15:15 - No active profile set, falling back to 1 default profile: "default"
2025-01-14 23:15:17 - Started SecurityConfigTest in 1.735 seconds (process running for 22.448)
2025-01-14 23:15:18 - Salvando novo usuário: test@example.com
2025-01-14 23:15:18 - Atualizando usuário: test@example.com
2025-01-14 23:15:18 - Atualizando usuário: test@example.com
2025-01-14 23:15:18 - MFA habilitado para o usuário: test@example.com
2025-01-14 23:15:18 - Issuer or Audience does not match
2025-01-14 23:15:18 - Issuer or Audience does not match
2025-01-14 23:15:18 - Código MFA inválido.
2025-01-14 23:15:19 - Chave secreta MFA gerada com sucesso.
2025-01-14 23:15:19 - Código MFA validado com sucesso.
2025-01-14 23:19:57 - Tentativa de verificação MFA falhou para o usuário: test@example.com
2025-01-14 23:19:57 - MFA verificado com sucesso para o usuário: test@example.com
2025-01-14 23:19:57 - Novo usuário registrado: test@example.com
2025-01-14 23:19:57 - Login bem-sucedido para o usuário: test@example.com
2025-01-14 23:19:57 - MFA habilitado para o usuário: test@example.com
2025-01-14 23:19:57 - Tentativa de registro com senha fraca: test@example.com
2025-01-14 23:19:57 - Tentativa de login com senha inválida para o email: test@example.com
2025-01-14 23:19:57 - Tentativa de registro com email já existente: test@example.com
2025-01-14 23:20:00 - Starting MarvelJourneyApplicationTests using Java 23.0.1 with PID 10272 (started by luis_ in d:\develop\Projetos\Marvel\Java\marvel-journey)
2025-01-14 23:20:00 - No active profile set, falling back to 1 default profile: "default"
2025-01-14 23:20:09 - Started MarvelJourneyApplicationTests in 10.566 seconds (process running for 20.53)
2025-01-14 23:20:10 - Starting UserRepositoryTest using Java 23.0.1 with PID 10272 (started by luis_ in d:\develop\Projetos\Marvel\Java\marvel-journey)
2025-01-14 23:20:10 - The following 1 profile is active: "test"
2025-01-14 23:20:10 - Started UserRepositoryTest in 0.477 seconds (process running for 21.256)
2025-01-14 23:20:11 - Token inválido
2025-01-14 23:20:11 - Cabeçalho de autorização ausente ou malformado
2025-01-14 23:20:12 - Token válido para o usuário: user
2025-01-14 23:20:12 - Starting SecurityConfigTest using Java 23.0.1 with PID 10272 (started by luis_ in d:\develop\Projetos\Marvel\Java\marvel-journey)
2025-01-14 23:20:12 - No active profile set, falling back to 1 default profile: "default"
2025-01-14 23:20:14 - Started SecurityConfigTest in 2.245 seconds (process running for 25.396)
2025-01-14 23:20:16 - Salvando novo usuário: test@example.com
2025-01-14 23:20:16 - Atualizando usuário: test@example.com
2025-01-14 23:20:16 - Atualizando usuário: test@example.com
2025-01-14 23:20:16 - MFA habilitado para o usuário: test@example.com
2025-01-14 23:20:16 - Issuer or Audience does not match
2025-01-14 23:20:16 - Issuer or Audience does not match
2025-01-14 23:20:16 - Código MFA inválido.
2025-01-14 23:20:17 - Chave secreta MFA gerada com sucesso.
2025-01-14 23:20:17 - Código MFA validado com sucesso.
